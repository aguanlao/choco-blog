<div class="container">
  <h1>All Posts</h1>
  <!--
  <table>
    <thead>
      <tr>
        <th> Title </th>
        <th> Description </th>
        <th colspan="3"> Actions </th>
      </tr>
    </thead>

    <tbody>
      <% @posts.each do |post| %>
        <tr> 
          <td> <%= post.title %> </td>   
          <td> <%= post.description %> </td>
          <td> <%= link_to 'View', post_path(post) %> </td>
          <td> <%= link_to 'Edit', edit_post_path(post) %> </td>
          <td> <%= link_to 'Delete', post_path(post), method: :delete, data: { confirm: "Confirm deleting this post?" } %> </td>
        </tr>
      <% end %>
    </tbody>
  </table>
  -->

  <% @posts.each do |post| %>
      <div class="container card p-0">
        <div class="row no-gutters">
          <div class="col-2 align-self-center mh-100">
            <img src="https://loremflickr.com/360/480" class="rounded img-fluid" alt="...">
          </div>
          <div class="col">
            <div class="card-body">
              <h3 class="card-title"> <%= post.title %> </h3>
              <p class="card-text"> <%= post.description %> </p>
            </div>
            <div class="card-body text-right">
              <span class="btn btn-secondary"><%= link_to 'View', post_path(post) %></span>
              <span class="btn btn-secondary"><%= link_to 'Edit', edit_post_path(post) %></span>
              <span class="btn btn-secondary"><%= link_to 'Delete', post_path(post), method: :delete, data: { confirm: "Confirm deleting this post?" } %></span>
            </div>
            <div class="card-footer text-muted text-right">
              Posted <%= distance_of_time_in_words_to_now(post.created_at) %> ago
            </div>
          </div>
        </div>

      </div>
      <br/>
  <% end %>

  <p class="btn btn-success"> <%= link_to 'Create new post', new_post_path %> </p>
</div>